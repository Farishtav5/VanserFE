(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1697f6e5"],{"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("a630"),i("fb6a"),i("b0c0"),i("d3b7"),i("25f0"),i("3ca3");var n=i("6b75");function s(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n["a"])(t,e):void 0}}},"0e43":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("v-row",{staticClass:"my-3",attrs:{justify:"space-between"}},[i("v-col",{attrs:{cols:"auto"}},[i("h2",{staticClass:" font-weight-bold"},[t._v("Pickling Process")])]),i("v-col",{staticClass:"pb-0",attrs:{cols:"auto"}},[i("v-row",{attrs:{justify:"end"}},[i("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[i("v-select",{staticClass:"select-box",attrs:{outlined:"",dense:"",items:t.$store.state.thicknessList,label:"Select Thickness","item-text":"value","item-value":"value",color:"grey",clearable:""},on:{input:t.setOptions,"click:clear":function(e){return t.clearSearch("thickness")}},model:{value:t.selThickness,callback:function(e){t.selThickness=t._n(e)},expression:"selThickness"}})],1),i("v-col",{attrs:{cols:"auto"}},[i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"body-1",attrs:{dense:"",outlined:"",color:"grey",placeholder:"Select Date",readonly:"",clearable:""},on:{"click:clear":function(e){return t.clearSearch("date")}},model:{value:t.addedFrom,callback:function(e){t.addedFrom=e},expression:"addedFrom"}},"v-text-field",s,!1),n))]}}]),model:{value:t.addedFromMenu,callback:function(e){t.addedFromMenu=e},expression:"addedFromMenu"}},[i("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.addedFromMenu=!1},change:t.setOptions},model:{value:t.addedFrom,callback:function(e){t.addedFrom=e},expression:"addedFrom"}})],1)],1)],1)],1)],1),i("v-data-table",{staticClass:"elevation-1 coils",attrs:{headers:t.headers,items:t.$store.state.slittedCoils,"item-key":"ID",loading:t.$store.state.isLoading,"disable-pagination":"","fixed-header":"",height:"calc(100vh - 190px)","hide-default-footer":""},scopedSlots:t._u([{key:"item.pickling_date",fn:function(e){var n=e.item;return[i("div",{staticClass:"body-2"},[i("span",[t._v(t._s(n.pickling_date?t.$options.filters.formatDate(n.pickling_date):"---"))])])]}},{key:"item.status",fn:function(e){var n=e.item;return[i("div",{staticClass:"body-2"},[i("span",{staticClass:"text-capitalize",class:t.getTextColor(n.status)},[t._v(t._s(n.status))])])]}},{key:"item.pickling_shift",fn:function(e){var n=e.item;return[i("div",{staticClass:"body-2"},[i("span",{staticClass:"text-capitalize"},[t._v(t._s(t.getShiftName(n.pickling_shift)))])])]}},{key:"item.actions",fn:function(e){var n=e.item;return[i("v-row",{attrs:{align:"center"}},["in-process for pickling"===n.status?i("v-col",{class:t.checkRole("member")?"pb-0":"",attrs:{cols:"12"},on:{click:function(e){return t.editPlanning(n)}}},[i("v-btn",{staticClass:"caption",attrs:{small:"",outlined:""}},[t._v("Edit Pickling Planning")])],1):t._e(),t.checkRole("member")&&"in-process for pickling"===n.status?i("v-col",{attrs:{cols:"12"},on:{click:function(e){return t.processCoil(n)}}},[i("v-btn",{staticClass:"caption",attrs:{small:"",outlined:""}},[t._v("View & Process")])],1):t._e(),t.checkRole("admin")&&"approve for pickling"===n.status?i("v-col",{attrs:{cols:"12"},on:{click:function(e){return t.processCoil(n)}}},[i("v-btn",{staticClass:"caption",attrs:{small:"",outlined:""}},[t._v("Mark Complete")])],1):t._e()],1)]}}],null,!0),model:{value:t.$store.state.selRows,callback:function(e){t.$set(t.$store.state,"selRows",e)},expression:"$store.state.selRows"}}),i("v-row",[t.$store.state.picklingDialog?i("PicklingPlanning"):t._e(),t.$store.state.picklingDrawer?i("PicklingPreview"):t._e()],1)],1)},s=[],a=(i("4de4"),i("7db0"),i("c740"),i("d81d"),i("b0c0"),i("ac1f"),i("1276"),i("96cf"),i("1da1")),r=i("df4b"),o=i("5ce8"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$store.state.picklingDrawer?i("v-navigation-drawer",{staticStyle:{position:"fixed",top:"0",right:"0","overflow-y":"scroll","z-index":"101"},attrs:{temporary:"",right:"",width:"400"},model:{value:t.$store.state.picklingDrawer,callback:function(e){t.$set(t.$store.state,"picklingDrawer",e)},expression:"$store.state.picklingDrawer"}},[i("div",{staticClass:"body-1 font-weight-bold px-4 py-2"},[t._v(" Slit Preview "),i("v-icon",{staticClass:"float-right",on:{click:t.close}},[t._v(" mdi-close-circle ")])],1),i("v-divider",{staticClass:"py-3"}),i("v-container",[i("v-row",{staticClass:"px-4"},[t.coil.status?i("v-col",{staticClass:"py-0 text-right",attrs:{cols:"12"}},[t.checkRole("admin")&&"approve for pickling"===t.coil.status?i("p",{staticClass:"font-weight-bold red--text text--darken-4 caption"},[t._v(" Pickling Loss: "+t._s(((t.coil.actual_weight-t.coil.pickled_weight)/t.coil.actual_weight*100).toFixed(2))+" % ")]):t._e()]):t._e(),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{value:t.coil.slit_no,label:"Coil No",outlined:"",dense:"",color:"grey",readonly:""}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{value:t.coil.brand_no,label:"Parent Coil ID",outlined:"",dense:"",color:"grey",readonly:""}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{value:t.coil.thickness,label:"Thickness",outlined:"",dense:"",color:"grey",type:"number",readonly:""}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:"Pickled Thickness",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.pickled_thickness,callback:function(e){t.$set(t.coil,"pickled_thickness",e)},expression:"coil.pickled_thickness"}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{value:t.coil.actual_weight,label:"Weight (kg)",outlined:"",dense:"",color:"grey",type:"number",readonly:""}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:"Pickled Weight (kg)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.pickled_weight,callback:function(e){t.$set(t.coil,"pickled_weight",e)},expression:"coil.pickled_weight"}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{value:t.coil.actual_width,label:"Width (mm)",outlined:"",dense:"",color:"grey",type:"number",readonly:""}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:"Pickled Width (mm)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.pickled_width,callback:function(e){t.$set(t.coil,"pickled_width",e)},expression:"coil.pickled_width"}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:"OD (mm)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.pickling_od,callback:function(e){t.$set(t.coil,"pickling_od",e)},expression:"coil.pickling_od"}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:"Operator Name",outlined:"",dense:"",color:"grey"},model:{value:t.coil.pickling_operator,callback:function(e){t.$set(t.coil,"pickling_operator",e)},expression:"coil.pickling_operator"}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[i("v-textarea",{staticClass:"mr-2",attrs:{outlined:"",color:"grey","auto-grow":"",dense:"",rows:"1",label:"Remarks"},model:{value:t.coil.pickling_notes,callback:function(e){t.$set(t.coil,"pickling_notes",e)},expression:"coil.pickling_notes"}})],1)],1)],1),i("v-divider"),t.$route.path.includes("pickled")?t._e():i("div",{staticClass:"ma-4 mt-5 float-right"},[i("v-btn",{staticClass:"mr-2",attrs:{outlined:""},on:{click:t.close}},[t._v(" Cancel ")]),i("v-btn",{attrs:{dark:t.validateFields,disabled:!t.validateFields},on:{click:t.saveCoil}},[t._v(" Save ")])],1)],1):t._e()},c=[],d=(i("b680"),i("5629")),u={name:"CoilPreview",data:function(){return{coil:{},notes:"",drawer:null,data:{},maxDate:(new Date).toISOString(),dateMenu:!1,selDate:null,time:null,times:[],rows:[],errorMsg:""}},computed:{validateFields:function(){return!!(this.coil.pickled_thickness&&this.coil.pickled_width&&this.coil.pickled_weight&&this.coil.pickling_operator&&this.coil.pickling_od)},scrapWidth:function(){if(this.rows.length>0){var t=0;return this.rows.map((function(e){e.actual_width||(e.actual_width=0),t=parseFloat(t)+parseFloat(e.actual_width)})),(this.rows[0].width-t).toFixed(3)}return 0},avilableWidth:function(){if(this.rows.length>0){var t=0;return this.rows.map((function(e){e.slitted_width||(e.slitted_width=0),t=parseFloat(t)+parseFloat(e.slitted_width)})),(this.rows[0].width-t).toFixed(3)}return 0},validateForm:function(){var t=0;return!(this.rows.length>0)||(this.rows.map((function(e){t=parseFloat(t)+parseFloat(e.slitted_width)})),this.rows[0].width>=t)}},mounted:function(){this.getOneSlit()},methods:{saveCoil:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n,s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=[],n=t.$options.filters.calendarDate((new Date).toISOString()),s="approve for pickling",t.checkRole("admin")&&(s="pickled"),i.push({pickled_thickness:t.coil.pickled_thickness,pickled_weight:t.coil.pickled_weight,pickled_width:t.coil.pickled_width,pickling_notes:t.coil.pickling_notes?t.coil.pickling_notes:"",status:s,id:t.coil.ID,updated_at:n,pickling_od:t.coil.pickling_od,pickling_operator:t.coil.pickling_operator}),e.prev=5,e.next=8,d["a"].update(i);case 8:a=e.sent,console.log("result",a),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),console.log("error",e.t0);case 15:return e.prev=15,t.$store.state.picklingDrawer=!1,r={status:"in-process for pickling,approve for pickling"},t.$store.dispatch("getSlittedCoils",r),e.finish(15);case 20:case"end":return e.stop()}}),e,null,[[5,12,15,20]])})))()},getOneSlit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getOne(t.$store.state.slitId);case 3:i=e.sent,t.coil=i.data.rows[0],console.log("coil",t.coil),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},editFlag:function(t){return!!this.checkRole("admin")||(!this.checkRole("member")||"weight"!=t&&"width"!=t)},checkRole:function(t){var e=JSON.parse(localStorage.getItem("user"));return!(!e||e.role!=t)},clearSearch:function(t){console.log("data",t)},searchData:function(){},getSlits:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].getSlits(t.$store.state.coilId);case 3:i=e.sent,t.rows=i.data.rows,t.notes=t.rows[0].notes,console.log("result",i),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},close:function(){this.$store.state.picklingDrawer=!1}}},p=u,f=i("2877"),h=Object(f["a"])(p,l,c,!1,null,null,null),g=h.exports,v={components:{PicklingPlanning:o["a"],PicklingPreview:g},data:function(){return{selDate:null,dateMenu:!1,data:[],editedIndex:-1,dialog:!1,selShift:"",selThickness:"",selRows:[],singleSelect:!1,actionsList:[{icon:"mdi-plus-circle",text:"create planning"},{icon:"mdi-pencil",text:"edit planning"},{icon:"mdi-view-grid",text:"preview planning"}],options:{},sortBy:"",orderBy:"desc",selCompany:null,selStatus:null,addedFromMenu:!1,addedFrom:null,maxDate:(new Date).toISOString(),headline:"",statusList:[{id:1,name:"Available"},{id:2,name:"In-Queue"},{id:3,name:"Slitted"}],headers:[{text:"Coil No",align:"start",value:"slit_no",sortable:!1,width:"10%"},{text:"Thickness (mm)",value:"thickness",sortable:!1,width:"15%"},{text:"Weight (kg)",value:"actual_weight",sortable:!1,width:"10%"},{text:"Width (mm)",value:"actual_width",sortable:!1,width:"10%"},{text:"Pickling Date",value:"pickling_date",sortable:!1,width:"15%"},{text:"Pickling Shift",value:"pickling_shift",width:"15%"},{text:"Status",value:"status",sortable:!1,width:"10%"},{text:"Actions",value:"actions",sortable:!1,align:"end",width:"15%"}]}},mounted:function(){this.$store.state.selRows=[],this.$store.dispatch("getShifts"),this.$store.dispatch("getThicknesses"),this.$store.dispatch("getSlittedCoils",{status:"in-process for pickling,approve for pickling"})},watch:{options:{handler:function(t){var e=t.sortBy,i=t.sortDesc;1===e.length&&1===i.length&&(1==i[0]?this.orderBy="desc":this.orderBy="asc",this.sortBy=e[0]),this.searchData()},deep:!0}},computed:{coilRows:function(){return this.$store.state.slittedCoils.filter((function(t){var e=[];return e="slitted"===t.status?[{icon:"mdi-plus-circle",text:"create planning"}]:"in-process for pickilng"===t.status?[{icon:"mdi-pencil",text:"edit"},{icon:"mdi-view-grid",text:"preview planning"}]:"approve for pickling"===t.status?[{icon:"mdi-pencil",text:"edit"}]:[{icon:"mdi-view-grid",text:"preview planning"},{icon:"mdi-pencil",text:"edit planning"}],t.actions=e}))},formTitle:function(){return this.editedIndex<=0?"Create Planning":"Edit Planning"},preventSlitting:function(){var t=this.selRows.findIndex((function(t){return"available"!=t.status.toLowerCase()}));return t>=0}},methods:{processCoil:function(t){this.$store.state.slitId=t.ID,console.log("item",t),this.$store.state.picklingDrawer=!0},checkRole:function(t){var e=JSON.parse(localStorage.getItem("user"));return!(!e||e.role!=t)},getShiftName:function(t){return 1===t?"Day Shift":2===t?"Night Shift":"24 Hour Shift"},editPlanning:function(t){var e=this.$options.filters.calendarDate(t.pickling_date).split(" ");t.pickling_date=e[0],t.dateMenu=!1,this.$store.state.selSlits=[t],this.$store.state.picklingDialog=!0},openDialog:function(){this.$store.state.selRows.map((function(t){t.dateMenu=!1})),this.$store.state.picklingDialog=!0},showCompany:function(t){return this.$store.state.companies.length>0?this.$store.state.companies.find((function(e){return e.id==t})).name:""},actions:function(t,e){console.log("text, item",t,e),"create planning"===t&&(this.dialog=!0,this.data=[e],this.$store.state.coilId=e.id),"preview planning"===t&&(this.$store.state.coilId=e.id,this.$store.state.slitDrawer=!0,console.log("preview")),"edit planning"===t&&(this.$store.state.coilId=e.id,this.$router.push({path:"/slit-planning/".concat(e.id)}))},openSlitForm:function(){this.$router.push({path:"/slit-planning"})},setOptions:function(){this.searchData()},getTextColor:function(t){var e="";switch(t){case"slitted":e="grey--text text--darken-1";break;case"available":e="green--text text--darken-2";break;case"edit-required":e="red--text text--lighten-1";break;default:e="yellow--text text--darken-4";break}return e},openForm:function(){console.log(this.$store.state),this.$store.state.coilId=null,this.$store.state.coilDrawer=!0},clearSearch:function(t){"date"===t?this.addedFrom=null:"status"===t?this.selStatus=null:"company"===t?this.selCompany=null:"thickness"===t?this.selThickness=null:"shift"===t&&(this.selShift=null),this.setOptions()},searchData:function(){var t={status:"in-process for pickling,approve for pickling"};this.addedFrom&&(t.pickling_date=this.addedFrom),this.selThickness&&(t.thickness=this.selThickness),this.$store.dispatch("getSlittedCoils",t)},deleteCoil:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,r["a"].delete(t);case 3:n=i.sent,e.$store.dispatch("getCoils",{page:1}),console.log("result",n),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),console.log("error",i.t0);case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()},editCoil:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,r["a"].update(t.id,t);case 3:n=i.sent,e.$store.dispatch("getCoils",{page:1}),console.log("result",n),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),console.log("error",i.t0);case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()}}},k=v,m=(i("1bf9"),Object(f["a"])(k,n,s,!1,null,null,null));e["default"]=m.exports},1148:function(t,e,i){"use strict";var n=i("a691"),s=i("1d80");t.exports="".repeat||function(t){var e=String(s(this)),i="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(i+=e);return i}},"1bf9":function(t,e,i){"use strict";i("e8bf")},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),s=i("825a"),a=i("d039"),r=i("ad6d"),o="toString",l=RegExp.prototype,c=l[o],d=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=o;(d||u)&&n(RegExp.prototype,o,(function(){var t=s(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in l)?r.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"4df4":function(t,e,i){"use strict";var n=i("0366"),s=i("7b0b"),a=i("9bdd"),r=i("e95a"),o=i("50c4"),l=i("8418"),c=i("35a1");t.exports=function(t){var e,i,d,u,p,f,h=s(t),g="function"==typeof this?this:Array,v=arguments.length,k=v>1?arguments[1]:void 0,m=void 0!==k,b=c(h),w=0;if(m&&(k=n(k,v>2?arguments[2]:void 0,2)),void 0==b||g==Array&&r(b))for(e=o(h.length),i=new g(e);e>w;w++)f=m?k(h[w],w):h[w],l(i,w,f);else for(u=b.call(h),p=u.next,i=new g;!(d=p.call(u)).done;w++)f=m?a(u,k,[d.value,w],!0):d.value,l(i,w,f);return i.length=w,i}},"5ce8":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",[i("v-dialog",{staticClass:"py-5",attrs:{"max-width":"600px"},on:{"click:outside":t.clearData},model:{value:t.$store.state.picklingDialog,callback:function(e){t.$set(t.$store.state,"picklingDialog",e)},expression:"$store.state.picklingDialog"}},[i("v-card",[i("v-card-title",[i("p",{staticClass:"body-1 font-weight-bold"},[t._v(t._s(t.formTitle))])]),i("v-card-text",[i("v-container",t._l(t.$store.state.selSlits,(function(e,n){return i("v-row",{key:n},[i("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{outlined:"",readonly:"",color:"grey",dense:"",label:"Coil No"},model:{value:e.slit_no,callback:function(i){t.$set(e,"slit_no",i)},expression:"item.slit_no"}})],1),i("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[i("v-menu",{ref:"dates",refInFor:!0,attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on,a=n.attrs;return[i("v-text-field",t._g(t._b({staticClass:"body-1",attrs:{dense:"",outlined:"",color:"grey",placeholder:"Pickling Date",readonly:"",clearable:""},model:{value:e.pickling_date,callback:function(i){t.$set(e,"pickling_date",i)},expression:"item.pickling_date"}},"v-text-field",a,!1),s))]}}],null,!0),model:{value:e.dateMenu,callback:function(i){t.$set(e,"dateMenu",i)},expression:"item.dateMenu"}},[i("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.dateMenu=!1}},model:{value:e.pickling_date,callback:function(i){t.$set(e,"pickling_date",i)},expression:"item.pickling_date"}})],1)],1),i("v-col",{staticClass:"py-0 my-0",attrs:{cols:"4"}},[i("v-select",{attrs:{outlined:"",dense:"",items:t.$store.state.shifts,label:"Pickling Shift","item-text":"name","item-value":"id",color:"grey"},model:{value:e.pickling_shift,callback:function(i){t.$set(e,"pickling_shift",t._n(i))},expression:"item.pickling_shift"}})],1)],1)})),1)],1),i("v-card-actions",{staticClass:"pb-5 mt-3"},[i("v-spacer"),i("v-btn",{attrs:{outlined:"",text:""},on:{click:t.close}},[t._v(" Cancel ")]),i("v-btn",{attrs:{dark:!t.haltSave,disabled:t.haltSave},on:{click:t.savePlanning}},[t._v(" Save ")])],1)],1)],1)],1)],1)},s=[],a=(i("d81d"),i("96cf"),i("1da1")),r=(i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),i("06c5"));function o(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(l)throw a}}}}var l=i("5629"),c={components:{},data:function(){return{selDate:null,dateMenu:!1}},mounted:function(){this.$store.dispatch("getShifts")},computed:{formTitle:function(){return"/pickling-stock"===this.$route.path?"Create Pickling Planning":"Edit Pickling Planning"},haltSave:function(){var t=!1;if(this.$store.state.selSlits.length>0){var e,i=o(this.$store.state.selSlits);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(!n.pickling_date||!n.pickling_shift){t=!0;break}}}catch(s){i.e(s)}finally{i.f()}return t}return!0}},methods:{clearData:function(){this.$store.state.selSlits=[],this.$store.state.selRows=[]},savePlanning:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=[],n=t.$options.filters.calendarDate((new Date).toISOString()),t.$store.state.selSlits.map((function(t){i.push({pickling_shift:t.pickling_shift,pickling_date:t.pickling_date,status:"in-process for pickling",id:t.ID,updated_at:n})})),e.prev=3,e.next=6,l["a"].update(i);case 6:s=e.sent,console.log("result",s),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log("error",e.t0);case 13:return e.prev=13,t.$store.state.picklingDialog=!1,a={status:"in-process for pickling,approve for pickling"},"/pickling-stock"==t.$route.path&&(a={status:"slitted"}),t.$store.dispatch("getSlittedCoils",a),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[3,10,13,19]])})))()},close:function(){this.$store.state.picklingDialog=!1,this.$store.state.selSlits=[],this.$store.state.selRows=[]}}},d=c,u=i("2877"),p=Object(u["a"])(d,n,s,!1,null,null,null);e["a"]=p.exports},"6b75":function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},"7db0":function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").find,a=i("44d2"),r=i("ae40"),o="find",l=!0,c=r(o);o in[]&&Array(1)[o]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},8418:function(t,e,i){"use strict";var n=i("c04e"),s=i("9bf2"),a=i("5c6c");t.exports=function(t,e,i){var r=n(e);r in t?s.f(t,r,a(0,i)):t[r]=i}},"9bdd":function(t,e,i){var n=i("825a"),s=i("2a62");t.exports=function(t,e,i,a){try{return a?e(n(i)[0],i[1]):e(i)}catch(r){throw s(t),r}}},a630:function(t,e,i){var n=i("23e7"),s=i("4df4"),a=i("1c7e"),r=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:r},{from:s})},b680:function(t,e,i){"use strict";var n=i("23e7"),s=i("a691"),a=i("408a"),r=i("1148"),o=i("d039"),l=1..toFixed,c=Math.floor,d=function(t,e,i){return 0===e?i:e%2===1?d(t,e-1,i*t):d(t*t,e/2,i)},u=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},p=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,i,n,o,l=a(this),p=s(t),f=[0,0,0,0,0,0],h="",g="0",v=function(t,e){var i=-1,n=e;while(++i<6)n+=t*f[i],f[i]=n%1e7,n=c(n/1e7)},k=function(t){var e=6,i=0;while(--e>=0)i+=f[e],f[e]=c(i/t),i=i%t*1e7},m=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var i=String(f[t]);e=""===e?i:e+r.call("0",7-i.length)+i}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(h="-",l=-l),l>1e-21)if(e=u(l*d(2,69,1))-69,i=e<0?l*d(2,-e,1):l/d(2,e,1),i*=4503599627370496,e=52-e,e>0){v(0,i),n=p;while(n>=7)v(1e7,0),n-=7;v(d(10,n,1),0),n=e-1;while(n>=23)k(1<<23),n-=23;k(1<<n),v(1,1),k(2),g=m()}else v(0,i),v(1<<-e,0),g=m()+r.call("0",p);return p>0?(o=g.length,g=h+(o<=p?"0."+r.call("0",p-o)+g:g.slice(0,o-p)+"."+g.slice(o-p))):g=h+g,g}})},c740:function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").findIndex,a=i("44d2"),r=i("ae40"),o="findIndex",l=!0,c=r(o);o in[]&&Array(1)[o]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},d81d:function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").map,a=i("1dde"),r=i("ae40"),o=a("map"),l=r("map");n({target:"Array",proto:!0,forced:!o||!l},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},e8bf:function(t,e,i){},fb6a:function(t,e,i){"use strict";var n=i("23e7"),s=i("861d"),a=i("e8b5"),r=i("23cb"),o=i("50c4"),l=i("fc6a"),c=i("8418"),d=i("b622"),u=i("1dde"),p=i("ae40"),f=u("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),g=d("species"),v=[].slice,k=Math.max;n({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,e){var i,n,d,u=l(this),p=o(u.length),f=r(t,p),h=r(void 0===e?p:e,p);if(a(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?s(i)&&(i=i[g],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return v.call(u,f,h);for(n=new(void 0===i?Array:i)(k(h-f,0)),d=0;f<h;f++,d++)f in u&&c(n,d,u[f]);return n.length=d,n}})}}]);
//# sourceMappingURL=chunk-1697f6e5.7cb3c8c5.js.map