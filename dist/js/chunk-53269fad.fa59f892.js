(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53269fad"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("a630"),a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("3ca3");var s=a("6b75");function i(t,e){if(t){if("string"===typeof t)return Object(s["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(s["a"])(t,e):void 0}}},1148:function(t,e,a){"use strict";var s=a("a691"),i=a("1d80");t.exports="".repeat||function(t){var e=String(i(this)),a="",n=s(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(a+=e);return a}},"25f0":function(t,e,a){"use strict";var s=a("6eeb"),i=a("825a"),n=a("d039"),r=a("ad6d"),o="toString",l=RegExp.prototype,c=l[o],d=n((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=o;(d||u)&&s(RegExp.prototype,o,(function(){var t=i(this),e=String(t.source),a=t.flags,s=String(void 0===a&&t instanceof RegExp&&!("flags"in l)?r.call(t):a);return"/"+e+"/"+s}),{unsafe:!0})},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var s=a("6b75");function i(t){if(Array.isArray(t))return Object(s["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return i(t)||n(t)||Object(r["a"])(t)||o()}},"408a":function(t,e,a){var s=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"498a":function(t,e,a){"use strict";var s=a("23e7"),i=a("58a8").trim,n=a("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},"4df4":function(t,e,a){"use strict";var s=a("0366"),i=a("7b0b"),n=a("9bdd"),r=a("e95a"),o=a("50c4"),l=a("8418"),c=a("35a1");t.exports=function(t){var e,a,d,u,h,p,v=i(t),f="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,w=void 0!==g,b=c(v),x=0;if(w&&(g=s(g,m>2?arguments[2]:void 0,2)),void 0==b||f==Array&&r(b))for(e=o(v.length),a=new f(e);e>x;x++)p=w?g(v[x],x):v[x],l(a,x,p);else for(u=b.call(v),h=u.next,a=new f;!(d=h.call(u)).done;x++)p=w?n(u,g,[d.value,x],!0):d.value,l(a,x,p);return a.length=x,a}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("1d80"),i=a("5899"),n="["+i+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),l=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"6b75":function(t,e,a){"use strict";function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}a.d(e,"a",(function(){return s}))},"79a5":function(t,e,a){"use strict";a("ee43")},"7c86":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"my-3",attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"auto"}},[a("h2",{staticClass:" font-weight-bold"},[t._v("HR Coils")])]),a("v-col",{staticClass:"text-right",attrs:{cols:"auto"}},[a("v-btn",{staticClass:"mr-4 body-2 font-weight-bold",attrs:{dark:""},on:{click:t.slittedCoilForm}},[t._v("Add Slitted Coil")]),a("v-btn",{staticClass:"mr-1 body-2 font-weight-bold",attrs:{dark:""},on:{click:t.openForm}},[t._v("Add Coil")])],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-row",{attrs:{justify:"end"}},[t.selMultiRows.length>0?a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"pt-4 pb-4 font-weight-bold",attrs:{dark:!t.preventDeletion,disabled:t.preventDeletion},on:{click:t.deleteMultipleCoils}},[t._v("Delete Coils")])],1):t._e(),t.selMultiRows.length>0?a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"pt-4 pb-4 font-weight-bold",attrs:{dark:!t.preventSlitting,disabled:t.preventSlitting},on:{click:t.openSlitForm}},[t._v("Create Slits")])],1):t._e(),a("v-col",{attrs:{cols:"auto"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"body-1",attrs:{dense:"",outlined:"",color:"grey",placeholder:"Select Date",readonly:"",clearable:""},on:{"click:clear":function(e){return t.clearSearch("date")}},model:{value:t.addedFrom,callback:function(e){t.addedFrom=e},expression:"addedFrom"}},"v-text-field",i,!1),s))]}}]),model:{value:t.addedFromMenu,callback:function(e){t.addedFromMenu=e},expression:"addedFromMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:"",max:t.maxDate},on:{input:function(e){t.addedFromMenu=!1},change:t.setOptions},model:{value:t.addedFrom,callback:function(e){t.addedFrom=e},expression:"addedFrom"}})],1)],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[a("v-select",{staticClass:"select-box",attrs:{outlined:"",dense:"",items:t.$store.state.thicknessList,label:"Select Thickness","item-text":"value","item-value":"value",color:"grey",clearable:""},on:{input:t.setOptions,"click:clear":function(e){return t.clearSearch("thickness")}},model:{value:t.selThickness,callback:function(e){t.selThickness=t._n(e)},expression:"selThickness"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[a("v-select",{staticClass:"select-box",attrs:{outlined:"",dense:"",items:t.statusList,label:"Select Coil Status","item-text":"name","item-value":"name",color:"grey",clearable:""},on:{input:t.setOptions,"click:clear":function(e){return t.clearSearch("status")}},model:{value:t.selStatus,callback:function(e){t.selStatus=e},expression:"selStatus"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[a("v-select",{staticClass:"select-box",attrs:{outlined:"",dense:"",items:t.$store.state.companies,label:"Select Company","item-text":"name","item-value":"id",color:"grey",clearable:""},on:{input:t.setOptions,"click:clear":function(e){return t.clearSearch("company")}},model:{value:t.selCompany,callback:function(e){t.selCompany=t._n(e)},expression:"selCompany"}})],1)],1)],1),t.preventSlitting?a("v-col",{staticClass:"red--text caption py-0",attrs:{color:"red",cols:"12"}},[t._v("You can create slits for available coils only.")]):t._e()],1),a("v-data-table",{staticClass:"elevation-1 coils",attrs:{headers:t.headers,items:t.coilRows,"items-per-page":10,loading:t.$store.state.isLoading,"footer-props":{"items-per-page-options":[5,10,25,50,100]},"fixed-header":"",height:"calc(100vh - 300px)",options:t.options,"server-items-length":t.$store.state.totalRows,"single-select":t.singleSelect,"show-select":""},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.company",fn:function(e){var s=e.item;return[a("div",{staticClass:"body-2"},[a("span",[t._v(t._s(t.showCompany(s.company)))])])]}},{key:"item.date",fn:function(e){var s=e.item;return[a("div",{staticClass:"body-2"},[a("span",[t._v(t._s(s.date?t.$options.filters.formatDate(s.date):"---"))])])]}},{key:"item.status",fn:function(e){var s=e.item;return[a("div",{staticClass:"body-2"},[a("span",{staticClass:"text-capitalize",class:t.getTextColor(s.status)},[t._v(t._s(s.status))])])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-list",{attrs:{dense:""}},t._l(s.actions,(function(e){return a("v-list-item",{key:e.text,on:{click:function(a){return t.actions(e.text,s)}}},[a("v-list-item-icon",{staticClass:"mr-0"},[a("v-icon",{staticClass:"mt-1",attrs:{small:""},domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-title",{staticClass:"body-2 text-capitalize mt-1"},[t._v(" "+t._s(e.text)+" ")])],1)})),1)],1)]}}],null,!0),model:{value:t.selMultiRows,callback:function(e){t.selMultiRows=e},expression:"selMultiRows"}}),t.$store.state.coilDrawer?a("AddCoil"):t._e(),t.$store.state.slitDrawer?a("CoilPreview"):t._e(),t.$store.state.slittedDrawer?a("AddSlittedCoil"):t._e()],1)},i=[],n=(a("4de4"),a("7db0"),a("c740"),a("d81d"),a("b0c0"),a("96cf"),a("1da1")),r=a("df4b"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.state.coilDrawer?a("v-navigation-drawer",{staticStyle:{position:"fixed",top:"0",right:"0","overflow-y":"scroll","z-index":"101"},attrs:{temporary:"",right:"",width:"360"},model:{value:t.$store.state.coilDrawer,callback:function(e){t.$set(t.$store.state,"coilDrawer",e)},expression:"$store.state.coilDrawer"}},[a("div",{staticClass:"subtitle-1 font-weight-bold px-4 py-2"},[a("span",[t._v(t._s(t.$store.state.coilId?"Edit Coil":"Add Coil"))]),a("v-icon",{staticClass:"float-right",on:{click:t.close}},[t._v(" mdi-close-circle ")])],1),a("v-divider"),a("v-container",[a("v-row",{staticClass:"px-4 mt-4"},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-combobox",{attrs:{items:t.$store.state.companies,"item-text":"name",label:"Company",outlined:"",color:"grey",dense:"","return-object":!1},on:{change:t.changeCompany},model:{value:t.selCompany,callback:function(e){t.selCompany="string"===typeof e?e.trim():e},expression:"selCompany"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"body-1",attrs:{dense:"",outlined:"",color:"grey",placeholder:"Select Date",readonly:"",clearable:""},on:{"click:clear":function(e){return t.clearSearch("date")}},model:{value:t.selDate,callback:function(e){t.selDate=e},expression:"selDate"}},"v-text-field",i,!1),s))]}}],null,!1,887548643),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.dateMenu=!1},change:t.searchData},model:{value:t.selDate,callback:function(e){t.selDate=e},expression:"selDate"}})],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",label:"Parent Coil ID",color:"grey",dense:""},model:{value:t.data.brand_no,callback:function(e){t.$set(t.data,"brand_no",e)},expression:"data.brand_no"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-combobox",{attrs:{items:t.$store.state.thicknessList,"item-text":"value",label:"Thickness (mm)",outlined:"",color:"grey",dense:"","return-object":!1,type:"number"},on:{change:t.changeThickness},model:{value:t.selThickness,callback:function(e){t.selThickness=t._n(e)},expression:"selThickness"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Width (mm)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.data.width,callback:function(e){t.$set(t.data,"width",t._n(e))},expression:"data.width"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Actual Weight (kg)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.data.weight,callback:function(e){t.$set(t.data,"weight",t._n(e))},expression:"data.weight"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Billed Weight (kg)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.data.formulated_weight,callback:function(e){t.$set(t.data,"formulated_weight",t._n(e))},expression:"data.formulated_weight"}})],1),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[a("v-radio-group",{staticClass:"py-0 my-0",attrs:{row:"",dense:""},model:{value:t.coilStatus,callback:function(e){t.coilStatus=e},expression:"coilStatus"}},[a("span",{staticClass:"mr-3 grey--text text--darken-2"},[t._v("Status")]),a("v-radio",{attrs:{label:"In-Transit",value:"in-transit",color:"grey darken-3"}}),a("v-radio",{attrs:{label:"Available",value:"available",color:"grey darken-3"}})],1)],1)],1)],1),a("v-divider"),a("div",{staticClass:"ma-4 mt-8 float-right"},[a("v-btn",{staticClass:"mr-2",attrs:{outlined:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{dark:t.validateForm,disabled:!t.validateForm},on:{click:t.addCoil}},[t._v(" Save ")])],1)],1):t._e()},l=[],c=(a("ac1f"),a("1276"),a("498a"),a("d6e8")),d=a("e5ca"),u={name:"AddCoil",data:function(){return{selCompany:"",drawer:null,data:{},maxDate:(new Date).toISOString(),dateMenu:!1,selDate:null,selThickness:null,coilStatus:"available"}},computed:{validateForm:function(){return!!(this.selCompany&&this.selDate&&this.data.brand_no&&this.selThickness&&this.data.width&&this.data.weight&&this.data.formulated_weight)}},mounted:function(){if(this.$store.state.coilId){var t=Object.assign({},this.$store.state.coilData),e=this.$options.filters.calendarDate(t.date).split(" "),a=this.$store.state.companies.find((function(e){return e.id==t.company}));this.selCompany=a.name;var s=t.brand_no,i=t.width,n=t.weight,r=t.formulated_weight,o=t.status;this.selDate=e[0],this.selThickness=t.thickness,this.coilStatus=t.status,this.data={brand_no:s,width:i,weight:n,formulated_weight:r,status:o}}else this.data={}},methods:{changeThickness:function(t){var e=this.$store.state.thicknessList.findIndex((function(e){return e.value==t}));e<0&&t.trim().length>0&&this.addThickness(t.trim())},changeCompany:function(t){var e=this.$store.state.companies.findIndex((function(e){return e.name.trim().toLowerCase()==t.trim().toLowerCase()}));e<0&&t.trim().length>0&&this.addCompany(t.trim())},clearSearch:function(t){console.log("data",t)},searchData:function(){},addThickness:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].add({value:parseFloat(t)});case 3:s=a.sent,console.log("result",s),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log("error",a.t0);case 10:return a.prev=10,e.$store.dispatch("getThicknesses"),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[0,7,10,13]])})))()},addCompany:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c["a"].add({name:t});case 3:s=a.sent,console.log("result",s),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log("error",a.t0);case 10:return a.prev=10,e.$store.dispatch("getCompanies"),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[0,7,10,13]])})))()},addCoil:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.data.status,"in-transit"===a&&"available"===t.coilStatus&&(t.selDate=t.$options.filters.calendarDate((new Date).toISOString())),t.data.thickness=t.selThickness,t.data.status=t.coilStatus,t.selCompany&&(s=t.$store.state.companies.find((function(e){return e.name.trim()==t.selCompany.trim()})),t.data.company=s.id),!t.$store.state.coilId){e.next=9;break}t.editCoil(),e.next=27;break;case 9:return t.data.date="".concat(t.selDate),t.data.created_at=t.$options.filters.calendarDate((new Date).toISOString()),e.prev=11,t.$store.state.coilDrawer=!1,t.$store.state.isLoading=!0,e.next=16,r["a"].add(t.data);case 16:i=e.sent,console.log("result",i),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](11),console.log("error",e.t0);case 23:return e.prev=23,t.$store.state.isLoading=!1,t.$store.dispatch("getCoils",{page:1,limit:10}),e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[11,20,23,27]])})))()},editCoil:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.data.status=t.coilStatus,t.data.date="".concat(t.selDate),t.data.updated_at=t.$options.filters.calendarDate((new Date).toISOString()),console.log("data",t.data),e.prev=4,t.$store.state.coilDrawer=!1,t.$store.state.isLoading=!0,e.next=9,r["a"].update(t.$store.state.coilId,t.data);case 9:a=e.sent,console.log("result",a),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),console.log("error",e.t0);case 16:return e.prev=16,t.$store.state.isLoading=!1,t.$store.dispatch("getCoils",{page:1,limit:10}),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,13,16,20]])})))()},close:function(){this.$store.state.coilDrawer=!1}}},h=u,p=a("2877"),v=Object(p["a"])(h,o,l,!1,null,null,null),f=v.exports,m=a("b3e9"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.state.slittedDrawer?a("v-navigation-drawer",{staticStyle:{position:"fixed",top:"0",right:"0","overflow-y":"scroll","z-index":"101"},attrs:{temporary:"",right:"",width:"420"},model:{value:t.$store.state.slittedDrawer,callback:function(e){t.$set(t.$store.state,"slittedDrawer",e)},expression:"$store.state.slittedDrawer"}},[a("div",{staticClass:"subtitle-1 font-weight-bold px-4 py-2"},[a("span",[t._v(t._s(t.$store.state.coilId?"Edit Slitted Coil":"Add Slitted Coil"))]),a("v-icon",{staticClass:"float-right",on:{click:t.close}},[t._v(" mdi-close-circle ")])],1),a("v-divider"),a("v-container",[a("v-row",{staticClass:"px-4"},[a("v-col",{attrs:{cols:"12"}},[a("p",{staticClass:"body-1 font-weight-bold mb-1"},[t._v("Parent Coil:")])]),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-combobox",{attrs:{items:t.$store.state.companies,"item-text":"name",label:"Company",outlined:"",color:"grey",dense:"","return-object":!1},on:{change:t.changeCompany},model:{value:t.selCompany,callback:function(e){t.selCompany="string"===typeof e?e.trim():e},expression:"selCompany"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"body-1",attrs:{dense:"",outlined:"",color:"grey",placeholder:"Select Date",readonly:"",clearable:""},model:{value:t.selDate,callback:function(e){t.selDate=e},expression:"selDate"}},"v-text-field",i,!1),s))]}}],null,!1,104568480),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.dateMenu=!1}},model:{value:t.selDate,callback:function(e){t.selDate=e},expression:"selDate"}})],1)],1),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"6"}},[a("v-select",{attrs:{outlined:"",dense:"",items:t.$store.state.shifts,label:"Select Shift","item-text":"name","item-value":"id",color:"grey"},model:{value:t.data.shift,callback:function(e){t.$set(t.data,"shift",e)},expression:"data.shift"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Parent Coil ID",color:"grey",dense:""},model:{value:t.data.brand_no,callback:function(e){t.$set(t.data,"brand_no",e)},expression:"data.brand_no"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-combobox",{attrs:{items:t.$store.state.thicknessList,"item-text":"value",label:"Thickness (mm)",outlined:"",color:"grey",dense:"","return-object":!1,type:"number"},on:{change:t.changeThickness},model:{value:t.selThickness,callback:function(e){t.selThickness=t._n(e)},expression:"selThickness"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Width (mm)",outlined:"",dense:"",color:"grey",type:"number",readonly:"",hint:"This field will be auto filled"},model:{value:t.data.width,callback:function(e){t.$set(t.data,"width",t._n(e))},expression:"data.width"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Weight (kg)",outlined:"",dense:"",color:"grey",type:"number",readonly:"",hint:"This field will be auto filled"},model:{value:t.data.weight,callback:function(e){t.$set(t.data,"weight",t._n(e))},expression:"data.weight"}})],1),a("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("v-btn",{attrs:{dark:"",small:""},on:{click:t.addSlits}},[t._v("Add Slits")])],1)],1),t.slits.length>0?a("v-row",[a("v-divider",{staticClass:"py-3"})],1):t._e(),t._l(t.slits,(function(e){return a("v-row",{key:e.id,staticClass:"px-4"},[a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Coil No",outlined:"",dense:"",color:"grey"},model:{value:e.slit_no,callback:function(a){t.$set(e,"slit_no",a)},expression:"item.slit_no"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Weight (kg)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:e.slitted_weight,callback:function(a){t.$set(e,"slitted_weight",a)},expression:"item.slitted_weight"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Width (mm)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:e.slitted_width,callback:function(a){t.$set(e,"slitted_width",a)},expression:"item.slitted_width"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-icon",{staticClass:"float-right",attrs:{small:""},on:{click:function(a){return t.deleteSlit(e.id)}}},[t._v(" mdi-close-thick ")])],1)],1)}))],2),a("v-divider"),a("div",{staticClass:"ma-4 mt-8 float-right"},[a("v-btn",{staticClass:"mr-2",attrs:{outlined:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{dark:!t.haltSave&&t.validateForm,disabled:t.haltSave||!t.validateForm},on:{click:t.addCoil}},[t._v(" Save ")])],1)],1):t._e()},w=[],b=(a("a434"),a("2909")),x={name:"AddCoil",data:function(){return{count:0,slits:[],selCompany:"",data:{},dateMenu:!1,selDate:null,selThickness:null}},computed:{validateForm:function(){return!!(this.selCompany&&this.selDate&&this.data.brand_no&&this.selThickness&&this.data.width&&this.data.weight)},haltSave:function(){var t=!1;if(this.slits.length>0){for(var e=0;e<this.slits.length;e++)if(!this.slits[e].slit_no||!this.slits[e].slitted_weight||!this.slits[e].slitted_width){t=!0;break}return t}return!0}},watch:{slits:{deep:!0,handler:function(){var t=0,e=0;this.slits.length>0?(this.slits.map((function(a){a.slitted_width||(a.slitted_width=0),a.slitted_weight||(a.slitted_weight=0),t=parseFloat(t)+parseFloat(a.slitted_width),e=parseFloat(e)+parseFloat(a.slitted_weight)})),this.data.width=t,this.data.weight=e):(this.data.width=0,this.data.weight=0)}}},methods:{deleteSlit:function(t){var e=this.slits.findIndex((function(e){return e.id==t}));this.slits.splice(e,1)},addSlits:function(){this.count++,this.slits.push({id:this.count,slit_no:"",slitted_weight:"",slitted_width:""})},changeThickness:function(t){var e=this.$store.state.thicknessList.findIndex((function(e){return e.value==t}));e<0&&t.trim().length>0&&this.addThickness(t.trim())},changeCompany:function(t){var e=this.$store.state.companies.findIndex((function(e){return e.name.trim().toLowerCase()==t.trim().toLowerCase()}));e<0&&t.trim().length>0&&this.addCompany(t.trim())},addThickness:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].add({value:parseFloat(t)});case 3:s=a.sent,console.log("result",s),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log("error",a.t0);case 10:return a.prev=10,e.$store.dispatch("getThicknesses"),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[0,7,10,13]])})))()},addCompany:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c["a"].add({name:t});case 3:s=a.sent,console.log("result",s),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log("error",a.t0);case 10:return a.prev=10,e.$store.dispatch("getCompanies"),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[0,7,10,13]])})))()},addCoil:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$options.filters.calendarDate((new Date).toISOString()),t.data.formulated_weight=t.data.weight,t.data.thickness=t.selThickness,t.data.status="slitted",t.selCompany&&(s=t.$store.state.companies.find((function(e){return e.name.trim()==t.selCompany.trim()})),t.data.company=s.id),t.data.date="".concat(t.selDate),t.data.created_at=a,e.prev=7,t.$store.state.slittedDrawer=!1,t.$store.state.isLoading=!0,e.next=12,r["a"].add(t.data);case 12:i=e.sent,n=i.data.coil,n&&t.saveSlits(n.id),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),console.log("error",e.t0);case 20:return e.prev=20,t.$store.state.isLoading=!1,t.$store.dispatch("getCoils",{page:1,limit:10}),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[7,17,20,24]])})))()},saveSlits:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={},i=e.$options.filters.calendarDate((new Date).toISOString()),s.status="slitted",s.slit_date=i,s.slit_shift=e.data.shift,s.slittedItems=Object(b["a"])(e.slits),s.slittedItems.map((function(e){e.status="slitted",e.is_avilable=!0,e.created_at=i,e.updated_at=i,e.actual_weight=e.slitted_weight,e.actual_width=e.slitted_width,e.parent_id=t})),a.prev=7,a.next=10,r["a"].addSlits(t,s);case 10:n=a.sent,e.savedData=n.data[0],a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](7),console.log("error",a.t0);case 17:return a.prev=17,e.$store.state.coilDrawer=!1,a.finish(17);case 20:case"end":return a.stop()}}),a,null,[[7,14,17,20]])})))()},close:function(){this.$store.state.slittedDrawer=!1}}},y=x,k=Object(p["a"])(y,g,w,!1,null,null,null),C=k.exports,_={components:{AddCoil:f,CoilPreview:m["a"],AddSlittedCoil:C},data:function(){return{selShift:"",selThickness:"",selMultiRows:[],singleSelect:!1,actionsList:[{icon:"mdi-plus-circle",text:"create slit"},{icon:"mdi-pencil",text:"edit"},{icon:"mdi-delete",text:"delete"},{icon:"mdi-view-grid",text:"preview planning"}],options:{},sortBy:"",orderBy:"desc",selCompany:null,selStatus:null,addedFromMenu:!1,addedFrom:null,maxDate:(new Date).toISOString(),headline:"",statusList:[{id:1,name:"In-Transit"},{id:2,name:"Available"},{id:3,name:"In-Queue"},{id:4,name:"Require Approval"},{id:5,name:"Slitted"}],headers:[{text:"ID",align:"start",value:"id"},{text:"Company",value:"company",sortable:!1},{text:"Parent Coil ID",value:"brand_no",sortable:!1},{text:"Date of Receiving",value:"date"},{text:"Status",value:"status",sortable:!1},{text:"Thickness (mm)",value:"thickness"},{text:"Weight (kg)",value:"weight"},{text:"Width (mm)",value:"width"},{text:"Actions",value:"actions",sortable:!1}]}},mounted:function(){var t=JSON.parse(localStorage.getItem("user")).access;t&&t.hr_stock?(this.$store.dispatch("getCompanies"),this.$store.dispatch("getShifts"),this.$store.dispatch("getThicknesses")):this.$router.push({name:"forbidden"})},watch:{options:{handler:function(t){var e=t.sortBy,a=t.sortDesc;1===e.length&&1===a.length&&(1==a[0]?this.orderBy="desc":this.orderBy="asc",this.sortBy=e[0]),this.searchData()},deep:!0}},computed:{preventDeletion:function(){var t=[];return this.selMultiRows.map((function(e){"available"!=e.status&&"in-transit"!=e.status&&t.push(e)})),t.length>0},preventSlitting:function(){var t=this.selMultiRows.findIndex((function(t){return"available"!=t.status.toLowerCase()}));return t>=0},coilRows:function(){return this.$store.state.coils.filter((function(t){var e=[];return e="available"===t.status?[{icon:"mdi-plus-circle",text:"create slit"},{icon:"mdi-pencil",text:"edit"},{icon:"mdi-content-duplicate",text:"duplicate"},{icon:"mdi-delete",text:"delete"}]:"slitted"===t.status?[{icon:"mdi-view-grid",text:"preview planning"}]:"in-transit"===t.status?[{icon:"mdi-pencil",text:"edit"},{icon:"mdi-check-circle",text:"change to available"},{icon:"mdi-content-duplicate",text:"duplicate"},{icon:"mdi-delete",text:"delete"}]:[{icon:"mdi-view-grid",text:"preview planning"},{icon:"mdi-pencil",text:"edit planning"}],t.actions=e}))}},methods:{duplicateCoil:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={brand_no:"".concat(t.brand_no," copy"),company:t.company,created_at:e.$options.filters.calendarDate((new Date).toISOString()),date:e.$options.filters.calendarDate(t.date),formulated_weight:t.formulated_weight,shift:t.shift,status:t.status,thickness:t.thickness,width:t.width,weight:t.weight},a.prev=1,a.next=4,r["a"].add(s);case 4:i=a.sent,console.log("result",i),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log("error",a.t0);case 11:return a.prev=11,e.$store.dispatch("getCoils",{page:1,limit:10}),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,8,11,14]])})))()},deleteMultipleCoils:function(){var t=[];this.selMultiRows.map((function(e){t.push(e.id)})),this.deleteCoil(t)},showCompany:function(t){return this.$store.state.companies.length>0?this.$store.state.companies.find((function(e){return e.id==t})).name:""},actions:function(t,e){if("change to available"===t){var a=this.$options.filters.calendarDate((new Date).toISOString());this.editCoil(e.id,{status:"available",updated_at:a,date:a})}"delete"===t&&this.deleteCoil([e.id]),"edit"===t?(this.$store.state.coilId=e.id,this.$store.state.coilData=e,this.$store.state.coilDrawer=!0):(this.$store.state.coilId=null,this.$store.state.coilData={}),"create slit"===t&&(this.$store.state.coilId=e.id,this.$store.state.selRows=[e],this.$router.push({path:"/slit-planning"})),"preview planning"===t&&(this.$store.state.coilId=e.id,this.$store.state.slitDrawer=!0,console.log("preview")),"edit planning"===t&&(this.$store.state.coilId=e.id,this.$router.push({path:"/slit-planning/".concat(e.id)})),"duplicate"===t&&this.duplicateCoil(e)},openSlitForm:function(){this.$store.state.selRows=this.selMultiRows,this.$router.push({path:"/slit-planning"})},setOptions:function(){console.log("Calleddddddd"),1===this.options.page?this.searchData():this.options.page=1},getTextColor:function(t){var e="";switch(t){case"slitted":e="grey--text text--darken-1";break;case"available":e="green--text text--darken-2";break;case"edit-required":e="red--text text--lighten-1";break;default:e="yellow--text text--darken-4";break}return e},openForm:function(){this.$store.state.coilId=null,this.$store.state.coilDrawer=!0},slittedCoilForm:function(){this.$store.state.coilId=null,this.$store.state.slittedDrawer=!0},clearSearch:function(t){"date"===t?this.addedFrom=null:"status"===t?this.selStatus=null:"company"===t?this.selCompany=null:"thickness"===t?this.selThickness=null:"shift"===t&&(this.selShift=null),this.setOptions()},searchData:function(){var t={},e=this.options,a=e.page,s=e.itemsPerPage;t.sortBy=this.sortBy,t.orderBy=this.orderBy,t.page=a,t.limit=s,this.selCompany&&(t.company=this.selCompany),this.selStatus&&(t.status=this.selStatus.toLowerCase()),this.addedFrom&&(t.date=this.addedFrom),this.selThickness&&(t.thickness=this.selThickness),this.selShift&&(t.slit_shift=this.selShift),this.$store.dispatch("getCoils",t)},deleteCoil:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r["a"].delete(t);case 3:s=a.sent,e.$store.dispatch("getCoils",{page:1}),console.log("result",s),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log("error",a.t0);case 11:return a.prev=11,e.selMultiRows=[],a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})))()},editCoil:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,r["a"].update(t,e);case 3:i=s.sent,a.$store.dispatch("getCoils",{page:1}),console.log("result",i),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log("error",s.t0);case 11:return s.prev=11,a.$store.dispatch("getCoils",{page:1}),s.finish(11);case 14:case"end":return s.stop()}}),s,null,[[0,8,11,14]])})))()}}},$=_,S=(a("79a5"),Object(p["a"])($,s,i,!1,null,null,null));e["default"]=S.exports},"7db0":function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").find,n=a("44d2"),r=a("ae40"),o="find",l=!0,c=r(o);o in[]&&Array(1)[o]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},8418:function(t,e,a){"use strict";var s=a("c04e"),i=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var r=s(e);r in t?i.f(t,r,n(0,a)):t[r]=a}},"9bdd":function(t,e,a){var s=a("825a"),i=a("2a62");t.exports=function(t,e,a,n){try{return n?e(s(a)[0],a[1]):e(a)}catch(r){throw i(t),r}}},a434:function(t,e,a){"use strict";var s=a("23e7"),i=a("23cb"),n=a("a691"),r=a("50c4"),o=a("7b0b"),l=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),h=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,f=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var a,s,d,u,h,p,w=o(this),b=r(w.length),x=i(t,b),y=arguments.length;if(0===y?a=s=0:1===y?(a=0,s=b-x):(a=y-2,s=f(v(n(e),0),b-x)),b+a-s>m)throw TypeError(g);for(d=l(w,s),u=0;u<s;u++)h=x+u,h in w&&c(d,u,w[h]);if(d.length=s,a<s){for(u=x;u<b-s;u++)h=u+s,p=u+a,h in w?w[p]=w[h]:delete w[p];for(u=b;u>b-s+a;u--)delete w[u-1]}else if(a>s)for(u=b-s;u>x;u--)h=u+s-1,p=u+a-1,h in w?w[p]=w[h]:delete w[p];for(u=0;u<a;u++)w[u+x]=arguments[u+2];return w.length=b-s+a,d}})},a630:function(t,e,a){var s=a("23e7"),i=a("4df4"),n=a("1c7e"),r=!n((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:r},{from:i})},b3e9:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.state.slitDrawer?a("v-navigation-drawer",{staticStyle:{position:"fixed",top:"0",right:"0","overflow-y":"scroll","z-index":"101"},attrs:{temporary:"",right:"",width:"420"},model:{value:t.$store.state.slitDrawer,callback:function(e){t.$set(t.$store.state,"slitDrawer",e)},expression:"$store.state.slitDrawer"}},[a("div",{staticClass:"body-1 font-weight-bold px-4 py-2"},[t._v("HR Slitting Planning Preview "),a("v-icon",{staticClass:"float-right",on:{click:t.close}},[t._v(" mdi-close-circle ")])],1),a("v-divider"),t.rows.length>0?a("v-container",[a("v-row",{staticClass:"px-4"},[a("v-col",{attrs:{cols:"12"}},[a("p",{staticClass:"body-1 font-weight-bold mb-1"},[t._v("Parent Coil: "+t._s(t.rows[0].brand_no))])]),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:t.rows[0].thickness,label:"Thickness",outlined:"",dense:"",color:"grey",type:"number",readonly:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:t.rows[0].weight,label:"Weight (kg)",outlined:"",dense:"",color:"grey",type:"number",readonly:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:t.rows[0].width,label:"Width (mm)",outlined:"",dense:"",color:"grey",type:"number",readonly:""}})],1)],1)],1):t._e(),a("v-divider"),a("v-container",[t.rows.length>0?a("div",{staticClass:"pb-5"},[a("p",{staticClass:"body-1 font-weight-bold mx-3 mb-1"},[t._v("Slits "),"require approval"===t.rows[0].status||"slitted"===t.rows[0].status?a("span",{staticClass:"float-right font-weight-bold body-2 red--text text--darken-4 caption"},[t._v(" Scrap: "+t._s(t.scrapWidth)+" mm ")]):a("span",{staticClass:"float-right font-weight-bold body-2 green--text text--darken-4 caption"},[t._v(" Available width: "+t._s(t.avilableWidth)+" mm ")])])]):t._e(),t._l(t.rows,(function(e){return a("v-row",{key:e.id,staticClass:"px-4"},[t.$route.path.includes("preview")||e.slit_no?a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Coil No",outlined:"",dense:"",color:"grey",readonly:"/coils"===t.$route.path},model:{value:e.slit_no,callback:function(a){t.$set(e,"slit_no",a)},expression:"item.slit_no"}})],1):t._e(),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Weight (kg)",outlined:"",dense:"",color:"grey",type:"number",readonly:!t.editFlag("weight")||"/coils"===t.$route.path},model:{value:e.slitted_weight,callback:function(a){t.$set(e,"slitted_weight",a)},expression:"item.slitted_weight"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Width (mm)",outlined:"",dense:"",color:"grey",type:"number",readonly:!t.editFlag("width")||"/coils"===t.$route.path},model:{value:e.slitted_width,callback:function(a){t.$set(e,"slitted_width",a)},expression:"item.slitted_width"}})],1),t.checkRole("member")&&"in-queue"===e.status&&"/slits-preview"===t.$route.path||t.checkRole("admin")&&"require approval"===e.status||"slitted"==e.status?a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Actual Weight (kg)",outlined:"",dense:"",color:"grey",type:"number",readonly:!t.editFlag("actual_weight")||"/coils"===t.$route.path},model:{value:e.actual_weight,callback:function(a){t.$set(e,"actual_weight",a)},expression:"item.actual_weight"}})],1):t._e(),t.checkRole("member")&&"in-queue"===e.status&&"/slits-preview"===t.$route.path||t.checkRole("admin")&&"require approval"===e.status||"slitted"==e.status?a("v-col",{staticClass:"py-0 pl-2",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Actual Width (mm)",outlined:"",dense:"",color:"grey",type:"number",readonly:!t.editFlag("actual_width")||"/coils"===t.$route.path},model:{value:e.actual_width,callback:function(a){t.$set(e,"actual_width",a)},expression:"item.actual_width"}})],1):t._e(),a("v-col",{attrs:{cols:"12"}},[a("v-divider",{staticClass:"py-2"})],1)],1)})),t.rows.length>0?a("v-row",{staticClass:"px-4"},[t.checkRole("member")&&"in-queue"===t.rows[0].status&&"/slits-preview"===t.$route.path||t.checkRole("admin")&&"require approval"===t.rows[0].status?a("v-col",{staticClass:"pb-0"},[a("v-textarea",{staticClass:"mr-2",attrs:{outlined:"",color:"grey","auto-grow":"",dense:"",rows:"1",label:"Notes"},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}})],1):t._e()],1):t._e(),t.errorMsg?a("v-row",{staticClass:"caption red--text px-4"},[t._v(t._s(t.errorMsg))]):t._e()],2),t.$route.path.includes("preview")?a("div",{staticClass:"ma-4 mt-5 float-right"},[a("v-btn",{staticClass:"mr-2",attrs:{outlined:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{dark:t.validateFields,disabled:!t.validateFields},on:{click:t.saveCoil}},[t._v(" Save ")])],1):t._e()],1):t._e()},i=[],n=(a("d81d"),a("b680"),a("96cf"),a("1da1")),r=a("df4b"),o={name:"CoilPreview",data:function(){return{notes:"",drawer:null,data:{},maxDate:(new Date).toISOString(),dateMenu:!1,selDate:null,time:null,times:[],rows:[],errorMsg:""}},computed:{scrapWidth:function(){if(this.rows.length>0){var t=0;return this.rows.map((function(e){e.actual_width||(e.actual_width=0),t=parseFloat(t)+parseFloat(e.actual_width)})),(this.rows[0].width-t).toFixed(3)}return 0},avilableWidth:function(){if(this.rows.length>0){var t=0;return this.rows.map((function(e){e.slitted_width||(e.slitted_width=0),t=parseFloat(t)+parseFloat(e.slitted_width)})),(this.rows[0].width-t).toFixed(3)}return 0},validateFields:function(){for(var t=!0,e=0;e<this.rows.length;e++)if(!this.rows[e].slitted_width||!this.rows[e].slitted_weight){t=!1;break}return t},validateForm:function(){var t=0;return!(this.rows.length>0)||(this.rows.map((function(e){t=parseFloat(t)+parseFloat(e.slitted_width)})),this.rows[0].width>=t)}},mounted:function(){this.getSlits()},methods:{editFlag:function(t){return!!this.checkRole("admin")||(!this.checkRole("member")||"weight"!=t&&"width"!=t)},checkRole:function(t){var e=JSON.parse(localStorage.getItem("user"));return!(!e||e.role!=t)},saveCoil:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validateForm){e.next=5;break}return t.errorMsg="Total of slits weight & width can't exceed parent coil's weight & width.",e.abrupt("return");case 5:t.errorMsg="";case 6:return a=t.rows[0].status,t.checkRole("admin")&&"in-queue"==a&&(a="in-queue"),t.checkRole("member")&&"in-queue"==a&&(a="require approval"),t.checkRole("admin")&&"require approval"==a&&(a="slitted"),s={slittedItems:[],status:a,updated_at:t.$options.filters.calendarDate((new Date).toISOString())},t.rows.map((function(t){s.slittedItems.push({ID:t.ID,slit_no:t.slit_no,status:a,actual_weight:t.actual_weight,actual_width:t.actual_width,slitted_weight:t.slitted_weight,slitted_width:t.slitted_width})})),t.notes&&(s.notes=t.notes),e.prev=13,e.next=16,r["a"].updateSlits(t.$store.state.coilId,s);case 16:i=e.sent,console.log("result",i),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](13),console.log("error",e.t0);case 23:return e.prev=23,n={status:"in-queue,require approval"},t.$store.state.previewShift&&(n.slit_shift=t.$store.state.previewShift),t.$store.state.previewDate&&(n.slit_date=t.$store.state.previewDate),t.$store.state.slitDrawer=!1,t.$store.dispatch("getSlittedCoils",n),e.finish(23);case 30:case"end":return e.stop()}}),e,null,[[13,20,23,30]])})))()},clearSearch:function(t){console.log("data",t)},searchData:function(){},getSlits:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].getSlits(t.$store.state.coilId);case 3:a=e.sent,t.rows=a.data.rows,t.notes=t.rows[0].notes,console.log("result",a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("error",e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[0,9,12,14]])})))()},close:function(){this.$store.state.slitDrawer=!1}}},l=o,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["a"]=d.exports},b680:function(t,e,a){"use strict";var s=a("23e7"),i=a("a691"),n=a("408a"),r=a("1148"),o=a("d039"),l=1..toFixed,c=Math.floor,d=function(t,e,a){return 0===e?a:e%2===1?d(t,e-1,a*t):d(t*t,e/2,a)},u=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},h=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));s({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,a,s,o,l=n(this),h=i(t),p=[0,0,0,0,0,0],v="",f="0",m=function(t,e){var a=-1,s=e;while(++a<6)s+=t*p[a],p[a]=s%1e7,s=c(s/1e7)},g=function(t){var e=6,a=0;while(--e>=0)a+=p[e],p[e]=c(a/t),a=a%t*1e7},w=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var a=String(p[t]);e=""===e?a:e+r.call("0",7-a.length)+a}return e};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=u(l*d(2,69,1))-69,a=e<0?l*d(2,-e,1):l/d(2,e,1),a*=4503599627370496,e=52-e,e>0){m(0,a),s=h;while(s>=7)m(1e7,0),s-=7;m(d(10,s,1),0),s=e-1;while(s>=23)g(1<<23),s-=23;g(1<<s),m(1,1),g(2),f=w()}else m(0,a),m(1<<-e,0),f=w()+r.call("0",h);return h>0?(o=f.length,f=v+(o<=h?"0."+r.call("0",h-o)+f:f.slice(0,o-h)+"."+f.slice(o-h))):f=v+f,f}})},c740:function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").findIndex,n=a("44d2"),r=a("ae40"),o="findIndex",l=!0,c=r(o);o in[]&&Array(1)[o]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},c8d2:function(t,e,a){var s=a("d039"),i=a("5899"),n="​᠎";t.exports=function(t){return s((function(){return!!i[t]()||n[t]()!=n||i[t].name!==t}))}},d81d:function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").map,n=a("1dde"),r=a("ae40"),o=n("map"),l=r("map");s({target:"Array",proto:!0,forced:!o||!l},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ee43:function(t,e,a){},fb6a:function(t,e,a){"use strict";var s=a("23e7"),i=a("861d"),n=a("e8b5"),r=a("23cb"),o=a("50c4"),l=a("fc6a"),c=a("8418"),d=a("b622"),u=a("1dde"),h=a("ae40"),p=u("slice"),v=h("slice",{ACCESSORS:!0,0:0,1:2}),f=d("species"),m=[].slice,g=Math.max;s({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var a,s,d,u=l(this),h=o(u.length),p=r(t,h),v=r(void 0===e?h:e,h);if(n(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?i(a)&&(a=a[f],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return m.call(u,p,v);for(s=new(void 0===a?Array:a)(g(v-p,0)),d=0;p<v;p++,d++)p in u&&c(s,d,u[p]);return s.length=d,s}})}}]);
//# sourceMappingURL=chunk-53269fad.fa59f892.js.map